<section>
  <div class="container">
    <div class="alert alert-danger alert-dismissible fade show" *ngIf="error" role="alert">
      <strong>Error</strong> {{error}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="removeErr()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="alert alert-success alert-dismissible fade show" *ngIf="alert" role="alert">
      <strong>Alert</strong> {{alert}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="removeAlert()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <button type="button" class="btn btn-outline-dark w-25 ml-4" (click)="addWorkflow()">Add Workflow</button>

    <div *ngIf="myWorkflows.length > 0">
      <p class="font-weight-bold h4 mt-3 border-bottom">My workflows</p>
      <div class="row text-center">
        <div class="col-md-4 p-4" *ngFor="let workflow of myWorkflows">
          <div>
            <div class="card">
              <div class="card-body ">
                <button class="btn drop dropdown-toggle dropdown-toggle-split" [matMenuTriggerFor]="menu"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="editWorkflow(workflow)">Edit</button>
                  <button mat-menu-item routerLink="/home/workflow/{{workflow._id}}">View</button>
                  <button mat-menu-item class="alert-danger" (click)="delete(workflow)">Delete </button>
                </mat-menu>
                <h5 class="card-title">{{workflow.name}}</h5>
                <h6 class="card-subtitle mb-2  text-danger" *ngIf="workflow.status == 'private'">
                  {{workflow.status}}</h6>
                <h6 class="card-subtitle mb-2  text-success" *ngIf="workflow.status == 'public'">
                  {{workflow.status}}</h6>
                  <p class="font-weight-light text-muted">{{workflow.creator}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div *ngIf="workflows.length > 0">
      <p class="font-weight-bold h4 mt-3 border-bottom">Added to workflows</p>
      <div class="row text-center">
        <div class="col-md-4 p-4" *ngFor="let workflow of workflows">
          <div>
            <div class="card">
              <div class="card-body ">
                <button class="btn drop dropdown-toggle dropdown-toggle-split" [matMenuTriggerFor]="menu"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item routerLink="/home/workflow/{{workflow._id}}">View</button>
                </mat-menu>
                <h5 class="card-title">{{workflow.name}}</h5>
                <h6 class="card-subtitle mb-2  text-danger" *ngIf="workflow.status == 'private'">
                  {{workflow.status}}</h6>
                <h6 class="card-subtitle mb-2  text-success" *ngIf="workflow.status == 'public'">
                  {{workflow.status}}</h6>

                <p class="font-weight-light text-muted">{{workflow.creator}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>